{% from 'snippets/image-with-attribution.njk' import imageWithAttribution %}

<article>
      <header class="border-bottom pb-4 mb-4">

        <h1 class="display-6">{{ title }} </h1>

      </header>
      <p class="lead">
        {{ summary }}
      </p>
      
      <!-- Cover Image with Attribution -->
      {% if coverImg %}
        {% if coverImg | slice(0, 7) == "http://" or coverImg | slice(0, 8) == "https://" %}
          <!-- External URL -->
          {{ imageWithAttribution(coverImg, title, coverImgAttribution, coverImgAttributionUrl) }}
        {% elif coverImg | slice(0, 5) == "/img/" %}
          <!-- Media manager path starting with /img/ -->
          {{ imageWithAttribution(coverImg, title, coverImgAttribution, coverImgAttributionUrl) }}
        {% else %}
          <!-- Local file path - use url filter -->
          {{ imageWithAttribution(coverImg | url, title, coverImgAttribution, coverImgAttributionUrl) }}
        {% endif %}
      {% endif %}
      
      <!-- Rich Text Content -->
      {{ content | safe }}
    </article> 