<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="{{ metadata.description }}">
<link rel="icon" type="image/png" href="/img/favicon-96x96.png" sizes="96x96" />
<link rel="icon" type="image/svg+xml" href="/img/favicon.svg" />
<link rel="shortcut icon" href="/img/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="/img/apple-touch-icon.png" />
<meta name="apple-mobile-web-app-title" content="One Kansei" />
<link rel="manifest" href="/img/site.webmanifest" />

<!-- PRELOAD CRITICAL FONTS -->
<link rel="preload" href="{{ '/fonts/inter-v12-latin-regular.woff2' | url }}" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="{{ '/fonts/inter-v12-latin-700.woff2' | url }}" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="{{ '/fonts/andika-v26-latin-regular.woff2' | url }}" as="font" type="font/woff2" crossorigin>

<!-- DEFER NON-CRITICAL CSS -->
<link rel="preload" href="{{ '/css/theme.css' | url }}" as="style" onload="this.onload=null;this.rel='stylesheet'">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">

<!-- FALLBACK FOR NO-JS -->
<noscript>
  <link rel="stylesheet" href="{{ '/css/theme.css' | url }}">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
</noscript>

<meta name="author" content="{{ metadata.author }}">
<meta name="generator" content="{{ eleventy.generator }}">
<meta name="HandheldFriendly" content="true"/>
<title>{{ title or metadata.title }}</title>

<style>
/* CRITICAL FONTS - Load immediately */
@font-face {
  font-family: 'Inter';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local(''),
       url('{{ '/fonts/inter-v12-latin-regular.woff2' | url }}') format('woff2'),
       url('{{ '/fonts/inter-v12-latin-regular.woff' | url }}') format('woff');
}

@font-face {
  font-family: 'Inter';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local(''),
       url('{{ '/fonts/inter-v12-latin-700.woff2' | url }}') format('woff2'),
       url('{{ '/fonts/inter-v12-latin-700.woff' | url }}') format('woff');
}

/* ANDIKA FONT - Using your actual filename */
@font-face {
  font-family: 'Andika';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: url('{{ '/fonts/andika-v26-latin-regular.woff2' | url }}') format('woff2');
}

@font-face {
  font-family: 'Andika';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: url('{{ '/fonts/andika-v26-latin-regular.woff2' | url }}') format('woff2');
}

/* CRITICAL STYLES - Only what's needed for above-the-fold */
h1, h2, h3, h4, h5, h6, .display-1, .display-2, .display-3, .display-4, .display-5, .display-6 {
  font-family: 'Andika', 'Inter', -apple-system, BlinkMacSystemFont, sans-serif !important;
}

.display-6 {
  line-height: 1.5 !important;
}

/* Add other critical above-the-fold styles here */
</style>

<!-- LOAD REMAINING FONTS ASYNCHRONOUSLY -->
<script>
  // Load non-critical fonts after page load
  window.addEventListener('load', function() {
    var fontStyles = document.createElement('style');
    fontStyles.innerHTML = `
      @font-face {
        font-family: 'Inter';
        font-style: normal;
        font-weight: 300;
        font-display: swap;
        src: local(''),
             url('{{ '/fonts/inter-v12-latin-300.woff2' | url }}') format('woff2'),
             url('{{ '/fonts/inter-v12-latin-300.woff' | url }}') format('woff');
      }
      @font-face {
        font-family: 'Inter';
        font-style: normal;
        font-weight: 500;
        font-display: swap;
        src: local(''),
             url('{{ '/fonts/inter-v12-latin-500.woff2' | url }}') format('woff2'),
             url('{{ '/fonts/inter-v12-latin-500.woff' | url }}') format('woff');
      }
      @font-face {
        font-family: 'Inder';
        font-style: normal;
        font-weight: 400;
        font-display: swap;
        src: local(''),
             url('{{ '/fonts/inder-v14-latin-regular.woff2' | url }}') format('woff2');
      }
      .inder-font {
        font-family: 'Inder', sans-serif;
      }
    `;
    document.head.appendChild(fontStyles);
  });
</script>